---
const { pages } = Astro.props;
let breadcrumb = pages;
breadcrumb = [{ href: '/', title: 'ホーム' }, ...pages];
---

<ol class="pt-2" itemscope itemtype="https://schema.org/BreadcrumbList">
  {
    breadcrumb.map((page: { href: string; title: string }, index: number) => (
      <li
        class="inline-block after:px-1 after:text-sm after:text-violet-600 after:content-['≫'] last:after:content-none dark:after:text-violet-50"
        itemprop="itemListElement"
        itemscope
        itemtype="https://schema.org/ListItem"
      >
        <a itemprop="item" href={new URL(page.href, Astro.site)}>
          <span itemprop="name">{page.title}</span>
        </a>
        <meta itemprop="position" content={index.toString()} />
      </li>
    ))
  }
</ol>
